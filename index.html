<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Quiz B√≠blico Infantil ‚Äî Demo 10 preguntas</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
/* ---------- VARIABLES CSS (tema claro) ---------- */
:root{
  --bg:#fdf6e3;
  --text:#333;
  --accent:#ff9f1c;
  --correct:#2ecc71;
  --wrong:#e74c3c;
  --card:#fff;
  --shadow:0 4px 12px rgba(0,0,0,.15);
  --radius:12px;
  --font:"Comic Sans MS",cursive,sans-serif;
}
/* ---------- RESET ---------- */
*{box-sizing:border-box;margin:0;padding:0;font-family:var(--font)}
body{background:var(--bg);color:var(--text);display:flex;flex-direction:column;align-items:center;padding:2rem 1rem}
h1,h2{margin:.5em 0}
button{cursor:pointer;border:none;border-radius:var(--radius);padding:.75em 1.5em;font-size:1.1rem;background:var(--accent);color:#fff;transition:transform .2s}
button:disabled{opacity:.5;cursor:not-allowed}
button:hover:not(:disabled){transform:translateY(-2px)}
/* ---------- PANTALLAS ---------- */
.screen{display:none;width:100%;max-width:600px}
.screen.active{display:block}
/* ---------- TARJETA ---------- */
.card{background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);padding:1.5rem}
/* ---------- BARRA ---------- */
.bar{background:#ddd;height:10px;border-radius:5px;overflow:hidden;margin:.5em 0}
.bar div{background:var(--accent);height:100%;width:0;transition:width .3s}
/* ---------- OPCIONES ---------- */
.options{display:grid;grid-template-columns:1fr 1fr;gap:.75rem;margin:1rem 0}
.options button{background:#fff;color:var(--text);border:2px solid var(--accent)}
.options button.correct{background:var(--correct);color:#fff;border-color:var(--correct)}
.options button.wrong{background:var(--wrong);color:#fff;border-color:var(--wrong)}
/* ---------- EMOJI SVG ---------- */
.emoji{width:64px;height:64px;margin:0 auto}
/* ---------- CONFETI ---------- */
@keyframes confeti-fall{0%{transform:translateY(-100vh) rotate(0)}100%{transform:translateY(100vh) rotate(360deg)}}
.confeti{position:fixed;top:0;left:0;width:10px;height:10px;background:var(--accent);opacity:.8;animation:confeti-fall 2s linear}
/* ---------- MODO SIN ANIMACIONES ---------- */
@media (prefers-reduced-motion:reduce){*{animation:none!important;transition:none!important}}
</style>
</head>
<body>

<!-- ========== 1. BIENVENIDA ========== -->
<section id="welcome" class="screen active">
  <div class="card">
    <svg class="emoji" viewBox="0 0 64 64" aria-label="Libro"><path fill="#ff9f1c" d="M56 8H8a4 4 0 00-4 4v40a4 4 0 004 4h48a4 4 0 004-4V12a4 4 0 00-4-4zM24 44h-4V20h4v24zm16 0h-4V20h4v24z"/></svg>
    <h1>Quiz B√≠blico Infantil</h1>
    <p>¬°Dios te ama y quiere que aprendas Sus historias!</p>
    <input id="playerName" placeholder="Escribe tu nombre" maxlength="12" style="width:100%;padding:.75em;margin:1em 0;border:2px solid var(--accent);border-radius:var(--radius)">
    <button id="startBtn">Comenzar üöÄ</button>
  </div>
</section>

<!-- ========== 2. JUEGO ========== -->
<section id="game" class="screen">
  <div class="card">
    <div style="display:flex;justify-content:space-between;align-items:center">
      <span id="levelTag">Nivel 1</span>
      <span id="counter">Pregunta 1/10</span>
    </div>
    <div class="bar"><div id="progressBar"></div></div>
    <h2 id="questionText"></h2>
    <div id="options" class="options"></div>
    <div style="margin-top:1em;text-align:center">
      <button id="hintBtn" style="background:#3498db">Ayuda üí°</button>
      <button id="nextBtn" disabled>Siguiente ‚û°Ô∏è</button>
    </div>
    <p id="hintBox" style="margin-top:1em;display:none;font-size:.9em;background:#fef9e7;padding:.5em;border-radius:var(--radius)"></p>
  </div>
</section>

<!-- ========== 3. RESULTADO ========== -->
<section id="result" class="screen">
  <div class="card">
    <h2>¬°Bien hecho <span id="resName"></span>!</h2>
    <p>Respondiste <strong id="resCorrect"></strong> de 10</p>
    <div id="stars"></div>
    <button id="retryBtn">Repetir nivel üîÅ</button>
    <button id="resetAllBtn">Borrar todo üóëÔ∏è</button>
  </div>
</section>

<script>
/* ==========================================
   CONFIGURACI√ìN R√ÅPIDA (SIN DEPENDENCIAS)
   ========================================== */
const levels=[
  {
    level:1,title:"Nivel 1 ‚Äî Personajes Principiantes",
    questions:[
      {id:"1-01",q:"¬øQui√©n derrot√≥ a Goliat con una piedra y una honda?",opts:["David","Mois√©s","Abraham","El√≠as"],ans:0,hint:"Fue un joven pastor que confiaba en Dios.",ref:"1 Samuel 17"},
      {id:"1-02",q:"¬øQui√©n construy√≥ el arca para salvar a los animales?",opts:["No√©","Abraham","Jon√°s","Jos√©"],ans:0,hint:"Construy√≥ un barco grande antes del diluvio.",ref:"G√©nesis 6-9"},
      {id:"1-03",q:"¬øQui√©n recibi√≥ los Diez Mandamientos?",opts:["Mois√©s","Josu√©","Aar√≥n","Sans√≥n"],ans:0,hint:"Subi√≥ al monte Sina√≠.",ref:"√âxodo 20"},
      {id:"1-04",q:"¬øQui√©n fue engullido por un gran pez?",opts:["Jon√°s","Daniel","Ezequiel","El√≠as"],ans:0,hint:"Pas√≥ tres d√≠as dentro.",ref:"Jon√°s 1-2"},
      {id:"1-05",q:"¬øQui√©n era el hermano de Abel?",opts:["Ca√≠n","Set","Enoc","Lamec"],ans:0,hint:"Fue el primero en nacer de Ad√°n y Eva.",ref:"G√©nesis 4"},
      {id:"1-06",q:"¬øQui√©n interpret√≥ los sue√±os del Fara√≥n?",opts:["Jos√©","Daniel","Mois√©s","Abraham"],ans:0,hint:"Ten√≠a una t√∫nica de muchos colores.",ref:"G√©nesis 41"},
      {id:"1-07",q:"¬øQui√©n era la esposa de Isaac?",opts:["Rebeca","Sara","Raquel","Lea"],ans:0,hint:"La conoci√≥ junto a un pozo.",ref:"G√©nesis 24"},
      {id:"1-08",q:"¬øQui√©n fue el padre del perd√≥n? (le dijo: 'Te perdono')",opts:["Jacob","Esa√∫","Jos√©","Benjam√≠n"],ans:2,hint:"Perdon√≥ a sus hermanos.",ref:"G√©nesis 45"},
      {id:"1-09",q:"¬øQui√©n era el amigo de Jes√∫s que lo traicion√≥?",opts:["Judas Iscariote","Pedro","Tom√°s","Andr√©s"],ans:0,hint:"Lo bes√≥ para se√±alarlo.",ref:"Mateo 26"},
      {id:"1-10",q:"¬øQui√©n neg√≥ a Jes√∫s tres veces antes que cantara el gallo?",opts:["Pedro","Juan","Santiago","Mateo"],ans:0,hint:"Llor√≥ mucho despu√©s.",ref:"Lucas 22"}
    ]
  }
];

/* ==========================================
   UTILIDADES
   ========================================== */
const $=q=>document.querySelector(q);
const shuffle=a=>a.sort(()=>Math.random()-.5);
const vibrate=p=>navigator.vibrate&&navigator.vibrate(p);

/* ==========================================
   AUDIO (PLACEHOLDER ‚Äì 1 KB BASE64 SILENCIO)
   ========================================== */
const sounds={
  click:new Audio("data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABgAZGF0YQAAAAA="),
  ok:new Audio("data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABgAZGF0YQAAAAA="),
  fail:new Audio("data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABgAZGF0YQAAAAA="),
  win:new Audio("data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABgAZGF0YQAAAAA=")
};
// Reemplaza las cadenas base64 por tus archivos reales (mp3/ogg) en assets/sounds/
// Ej: sounds.ok.src="assets/sounds/ding.mp3";

function playSound(key){
  const s=sounds[key];
  s.currentTime=0;
  s.play().catch(()=>{/*pol√≠tica de navegador*/});
}

/* ==========================================
   NAVEGACI√ìN
   ========================================== */
function show(id){
  document.querySelectorAll(".screen").forEach(s=>s.classList.remove("active"));
  $(id).classList.add("active");
}

/* ==========================================
   ESTADO
   ========================================== */
let levelIndex=0, qIndex=0, correct=0, questions=[], playerName="";

/* ==========================================
   FLUJO
   ========================================== */
$("#startBtn").onclick=()=>{
  playerName=$("#playerName").value.trim()||"Amigo";
  localStorage.setItem("bbq_name",playerName);
  startLevel(0);
};
$("#retryBtn").onclick=()=>startLevel(levelIndex);
$("#resetAllBtn").onclick=()=>{localStorage.clear();show("#welcome");};

function startLevel(idx){
  levelIndex=idx;
  const lvl=levels[idx];
  questions=shuffle([...lvl.questions]);
  qIndex=0; correct=0;
  $("#levelTag").textContent=lvl.title;
  show("#game");
  renderQuestion();
}

function renderQuestion(){
  const q=questions[qIndex];
  $("#counter").textContent=`Pregunta ${qIndex+1}/10`;
  $("#questionText").textContent=q.q;
  $("#hintBox").style.display="none";
  $("#nextBtn").disabled=true;
  $("#progressBar").style.width=`${(qIndex)/10*100}%`;

  const box=$("#options");
  box.innerHTML="";
  const opts=shuffle([...q.opts]);
  opts.forEach((opt,i)=>{
    const btn=document.createElement("button");
    btn.textContent=opt;
    btn.onclick=()=>check(btn,opt,q);
    box.appendChild(btn);
  });
}

function check(btn,opt,q){
  const right=opt===q.opts[q.ans];
  playSound(right?"ok":"fail");
  vibrate(right?50:200);
  if(right){
    btn.classList.add("correct");
    correct++;
    launchConfeti();
  }else{
    btn.classList.add("wrong");
    // marcar la correcta
    [...$("#options").children].forEach(b=>{
      if(b.textContent===q.opts[q.ans])b.classList.add("correct");
    });
  }
  // deshabilitar todos
  [...$("#options").children].forEach(b=>b.onclick=null);
  $("#nextBtn").disabled=false;
}

$("#hintBtn").onclick=()=>{
  const q=questions[qIndex];
  $("#hintBox").textContent=`${q.hint} (Lee: ${q.ref})`;
  $("#hintBox").style.display="block";
};

$("#nextBtn").onclick=()=>{
  if(qIndex<9){qIndex++;renderQuestion();}
  else{showResult();}
};

function showResult(){
  $("#progressBar").style.width="100%";
  show("#result");
  $("#resName").textContent=playerName;
  $("#resCorrect").textContent=correct;
  const stars=Math.floor(correct/4); // 0-3 estrellas
  $("#stars").innerHTML="‚≠ê".repeat(stars)+(stars<3?"üåü".repeat(3-stars):"");
  playSound("win");
  // guardar progreso
  localStorage.setItem("bbq_level",Math.max(levelIndex+(stars?1:0), Number(localStorage.getItem("bbq_level")||0)));
}

function launchConfeti(){
  for(let i=0;i<20;i++){
    const c=document.createElement("div");
    c.className="confeti";
    c.style.left=Math.random()*100+"%";
    c.style.background=["#ff9f1c","#2ecc71","#3498db","#e74c3c"][Math.floor(Math.random()*4)];
    document.body.appendChild(c);
    setTimeout(()=>c.remove(),2000);
  }
}

/* ==========================================
   INICIO
   ========================================== */
window.onload=()=>{
  const saved=localStorage.getItem("bbq_name");
  if(saved)$("#playerName").value=saved;
};
</script>
</body>
</html>
